@model IEnumerable<ImprovementProjectWebApp.Models.AppUserPlan>
@{
    ViewData["Title"] = "WorkoutList";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
}

<h2>健身计划</h2>
<div class="list-group col-lg-12">
    @{
        var x = Model.GroupBy(m => m.TrackId);
        foreach (var i in x)
        {
            <div class="list-group-item col-lg-12">
                @{

                    int count = 1;
                    foreach (var item in i)
                    {
                        @if (item.StartDate <= DateTime.Today && item.EndDate > DateTime.Today)
                        {
                            <div class="col-lg-6">
                                <br />
                                <p>@item.StartDate.ToString("yyyy MMMM dd") - @item.EndDate.ToString("yyyy MMMM dd")</p>
                                <p>Phase @count</p>
                                <a asp-controller="Customer" asp-action="CheckWorkoutList" class="col-lg-12 list-group-item" asp-route-PlanId="@item.PlanId">@item.Plan.PlanName</a>

                            </div>
                            count++;
                        }
                    }

                }
            </div>
        }
    }
</div>
<div class="clearfix"></div>
<br />
<div class="col-lg-12">

    <a class="btn btn-default col-lg-2 col-lg-offset-10" asp-action="Index" asp-controller="Customer">返回</a>
</div>
