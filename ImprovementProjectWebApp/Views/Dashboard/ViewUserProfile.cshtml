@model ImprovementProjectWebApp.Models.CustomerProfile
@{
    ViewData["Title"] = "ViewUserProfile";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@if (Model == null)
{
    <div class="alert alert-danger">
        <strong>Danger!</strong> 该用户没有Profile
    </div>

}
else
{

    <h4>用户信息</h4>
    <hr />
    <div class="col-lg-6">

        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Name)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Name)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Gender)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Gender)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.PhoneNumber)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.PhoneNumber)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.WeChatNumber)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.WeChatNumber)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.StartDate)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.StartDate)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.ApplicationUser.Email)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.ApplicationUser.Email)
            </dd>
        </dl>
    </div>
    @if (Model.WeChatQRCode != null)
    {
        <div class="col-lg-4">
            <dt>
                @Html.DisplayNameFor(model => model.WeChatQRCode)
            </dt>
            <dd>
                @{

                    var base64 = Convert.ToBase64String(Model.WeChatQRCode);
                    var imgsrc = string.Format("data:image/jpg;base64,{0}", base64);
                    <img src="@imgsrc" alt="Alternate Text" width="100%" />

                }
            </dd>
        </div>
    }
    <div class="clearfix"></div>
    <div class="col-lg-12">
        <br /><br />
        @*<a class="btn btn-warning col-lg-2" asp-action="EditCustomerProfile" asp-controller="Customer" asp-route-id="@Model.Id">编辑</a>*@
        <a class="btn btn-default col-lg-2 col-lg-offset-10" asp-action="ViewCustomer" asp-controller="Dashboard"asp-route-id="@Model.ApplicationUserId" >返回</a>
    </div>
}